(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e){},18:function(t,e){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=n(5),a=n.n(i),s=n(3);var h=n(22),u=n(2),c=n(0),l=n.n(c);function y(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.center=t,this.group=new l.a.Group,this.id=Object(h.a)(),this.reverse=e,this.size=n,this.ratio={width:1,height:.5688288},this.hideTime=0,this.selectedPath=null,this.t=0,this.currentPoint=0,this.constructor=function(){this.group=new l.a.Group;var e=this._makeBodypatterns(),n=e.bodyPattern1,r=e.bodyPattern2,o=e.bodyPattern3,i=this._makeEyeAndPupil(),a=i.eye,s=i.pupil;this.sizeTag=this._makeSizeTag(),this.group.addChild(this._makeFin()),this.group.addChild(this.makeBody()),this.group.addChild(n),this.group.addChild(r),this.group.addChild(o),this.group.addChild(a),this.group.addChild(s),this.group.bounds.width=this.ratio.width*this.size,this.group.bounds.height=this.ratio.height*this.size,this.group.position.x=t.x,this.group.position.y=t.y},this._makeFin=function(){var e=new l.a.Path([t.x-37.25,t.y-33.7],[t.x-47.25,t.y-53.3],[t.x+56.25,t.y-7.3],[t.x+86.25,t.y-23.3],[t.x+86.25,t.y+51.7],[t.x+56.25,t.y+26.7],[t.x+51.25,t.y+26.7],[t.x+19.25,t.y+41.7]);return e.fillColor="#F6D30E",e.strokeColor="black",e.strokeWidth=3,e.curves[0].handle1.x=2,e.curves[0].handle2.x=2,e.curves[1].handle1.x=100,e.curves[1].handle2.y=-15,e.curves[2].handle1.y=-12,e.curves[3].handle1.x=10,e.curves[3].handle2.x=10,e.curves[4].handle2.y=12,e.curves[6].handle1.y=20,e.curves[6].handle2.y=25,e},this.setReverse=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&!this.isReverse||!t&&this.isReverse?this.group.scale(-1,1):this.group.scale(1,1),this.isReverse=t},this.getReverse=function(){return this.isReverse},this.makeBody=function(){var e=new l.a.Path([t.x-93.75,t.y+11.7],[t.x+56.25,t.y+11.7],[t.x-93.75,t.y+11.7]);return e.strokeColor="black",e.strokeWidth=3,e.curves[0].handle1.y=45,e.curves[0].handle2.y=45,e.curves[1].handle1.y=-65,e.curves[1].handle2.y=-65,e.fillColor="#44A2F3",e},this._makeBodypatterns=function(){var e=new l.a.Path([t.x-66.75,t.y-26.3],[t.x-66.75,t.y+37.7],[t.x-49.75,t.y+42.7],[t.x-49.75,t.y-32.3]),n=new l.a.Path([t.x-26.75,t.y-36.3],[t.x-26.75,t.y+45.7],[t.x-8.75,t.y+45.7],[t.x-8.75,t.y-36.3]),r=new l.a.Path([t.x+21.25,t.y-30.3],[t.x+21.25,t.y+39.7],[t.x+31.25,t.y+36.7],[t.x+31.25,t.y-24.3]);return e.fillColor="#F6D30E",e.strokeColor="black",e.strokeWidth=3,e.curves[0].handle1.x=15,e.curves[0].handle2.x=8,e.curves[2].handle2.x=13,e.curves[2].handle1.x=15,n.fillColor="#F6D30E",n.strokeColor="black",n.strokeWidth=3,n.curves[0].handle1.x=15,n.curves[0].handle2.x=15,n.curves[2].handle2.x=13,n.curves[2].handle1.x=20,r.fillColor="#F6D30E",r.strokeColor="black",r.strokeWidth=3,r.curves[0].handle1.x=16,r.curves[0].handle2.x=8,r.curves[2].handle2.x=20,r.curves[2].handle1.x=16,{bodyPattern1:e,bodyPattern2:n,bodyPattern3:r}},this._makeEyeAndPupil=function(){var e=new l.a.Path.Circle([t.x-76.75,t.y-1.7],10);e.fillColor="white";var n=new l.a.Path([e.position.x-5,e.position.y+3],[e.position.x+5,e.position.y+3]);return n.strokeColor="black",n.strokeCap="round",n.strokeWidth=3,n.curves[0].handle1.y=-8,n.curves[0].handle2.y=-8,{eye:e,pupil:n}},this._makeSizeTag=function(){var t=new l.a.PointText;return t.fillColor="black",t.fontSize=18,t.fontFamily="'Dangrek', cursive",t.content=n.toString(),t},this.moveSizeTag=function(){this.sizeTag.bounds.center.x=this.group.bounds.topCenter.x,this.sizeTag.bounds.center.y=this.group.bounds.topCenter.y-15,this.sizeTag.content=this.size.toFixed(0).toString()},this.removeSizeTag=function(){this.sizeTag.remove()},this.constructor()}var d=[[[{x:100,y:0},{x:120,y:200},{x:125,y:295},{x:170,y:350}],[{x:170,y:350},{x:320,y:500},{x:550,y:500},{x:800,y:630}],[{x:800,y:630},{x:820,y:650},{x:900,y:550},{x:1e3,y:700}],[{x:1e3,y:700},{x:1220,y:770},{x:1400,y:800},{x:1600,y:750}],[{x:1600,y:750},{x:1750,y:770},{x:1950,y:780},{x:2200,y:550}],[{x:2200,y:550},{x:2750,y:550},{x:3e3,y:480},{x:2920,y:50}],[{x:2920,y:50},{x:2750,y:-450},{x:3e3,y:-460},{x:2320,y:-550}],[{x:2320,y:-550},{x:2150,y:-550},{x:1800,y:-760},{x:1520,y:-750}],[{x:1520,y:-750},{x:1300,y:-750},{x:1e3,y:-460},{x:850,y:-550}],[{x:850,y:-550},{x:740,y:-690},{x:650,y:-560},{x:600,y:-510}],[{x:600,y:-510},{x:180,y:-490},{x:130,y:-160},{x:100,y:0}]],[[{x:100,y:0},{x:400,y:300},{x:700,y:500},{x:1e3,y:500}],[{x:1e3,y:500},{x:1200,y:500},{x:1400,y:300},{x:1650,y:335}],[{x:1650,y:335},{x:1700,y:350},{x:2600,y:600},{x:2700,y:0}],[{x:2700,y:0},{x:2600,y:-700},{x:1800,y:-600},{x:1500,y:-500}],[{x:1500,y:-500},{x:1300,y:-500},{x:400,y:-400},{x:100,y:0}]],[[{x:100,y:0},{x:400,y:-800},{x:1300,y:-300},{x:1500,y:-600}],[{x:1500,y:-600},{x:1700,y:-800},{x:2200,y:-400},{x:2400,y:-200}],[{x:2400,y:-200},{x:2900,y:0},{x:2900,y:300},{x:2400,y:330}],[{x:2400,y:330},{x:2200,y:330},{x:1700,y:850},{x:1550,y:750}],[{x:1550,y:750},{x:1300,y:430},{x:300,y:650},{x:100,y:0}]],[[{x:100,y:0},{x:400,y:300},{x:700,y:200},{x:1e3,y:320}],[{x:1e3,y:320},{x:700,y:600},{x:400,y:500},{x:300,y:450}],[{x:300,y:450},{x:200,y:150},{x:0,y:-50},{x:500,y:-200}],[{x:500,y:-200},{x:1e3,y:-450},{x:1900,y:-500},{x:2400,y:-340}],[{x:2400,y:-340},{x:3200,y:0},{x:2800,y:200},{x:2550,y:500}],[{x:2550,y:500},{x:2200,y:700},{x:1500,y:300},{x:900,y:500}],[{x:900,y:500},{x:700,y:600},{x:200,y:200},{x:100,y:0}]],[[{x:2972,y:0},{x:2700,y:0},{x:2500,y:-100},{x:2350,y:-200}],[{x:2350,y:-200},{x:2e3,y:-400},{x:1200,y:-500},{x:850,y:-270}],[{x:850,y:-270},{x:700,y:-200},{x:800,y:-500},{x:340,y:-480}],[{x:340,y:-480},{x:-50,y:-350},{x:400,y:-50},{x:540,y:130}],[{x:540,y:130},{x:800,y:400},{x:1400,y:600},{x:1600,y:600}],[{x:1600,y:600},{x:1800,y:400},{x:2500,y:600},{x:2972,y:0}]],[[{x:2972,y:0},{x:2500,y:-400},{x:2100,y:-700},{x:1600,y:-720}],[{x:1600,y:-720},{x:1200,y:-700},{x:800,y:-400},{x:400,y:-50}],[{x:400,y:-50},{x:450,y:200},{x:900,y:600},{x:1200,y:560}],[{x:1200,y:560},{x:1600,y:530},{x:2100,y:600},{x:2500,y:300}],[{x:2500,y:300},{x:2600,y:200},{x:2800,y:100},{x:2972,y:0}]],[[{x:2972,y:0},{x:2600,y:600},{x:2e3,y:600},{x:1700,y:500}],[{x:1700,y:500},{x:1300,y:400},{x:750,y:600},{x:250,y:150}],[{x:250,y:150},{x:550,y:-800},{x:1250,y:-300},{x:1550,y:-550}],[{x:1550,y:-550},{x:1850,y:-800},{x:2672,y:0},{x:2972,y:0}]],[[{x:2972,y:0},{x:2500,y:400},{x:2100,y:300},{x:1700,y:335}],[{x:1700,y:335},{x:1400,y:400},{x:470,y:500},{x:170,y:335}],[{x:170,y:335},{x:40,y:100},{x:400,y:-400},{x:800,y:-450}],[{x:800,y:-450},{x:1500,y:-600},{x:2200,y:-400},{x:2972,y:0}]],[[{x:1536,y:724},{x:1336,y:800},{x:1100,y:600},{x:770,y:600}],[{x:770,y:600},{x:500,y:530},{x:350,y:500},{x:150,y:300}],[{x:150,y:300},{x:100,y:200},{x:250,y:-350},{x:700,y:-580}],[{x:700,y:-580},{x:1200,y:-600},{x:1800,y:-750},{x:2300,y:-550}],[{x:2300,y:-550},{x:2700,y:-400},{x:3e3,y:200},{x:2472,y:400}],[{x:2472,y:400},{x:2200,y:500},{x:1700,y:700},{x:1536,y:724}]],[[{x:1536,y:724},{x:1536,y:0},{x:2200,y:600},{x:2600,y:300}],[{x:2600,y:300},{x:2800,y:100},{x:2800,y:-100},{x:2300,y:-250}],[{x:2300,y:-250},{x:1800,y:-600},{x:1e3,y:-500},{x:500,y:-350}],[{x:500,y:-350},{x:-50,y:0},{x:200,y:300},{x:1536,y:724}]],[[{x:1536,y:724},{x:1200,y:400},{x:400,y:400},{x:100,y:0}],[{x:100,y:0},{x:700,y:-200},{x:1700,y:-700},{x:2300,y:-550}],[{x:2300,y:-550},{x:3400,y:-200},{x:2700,y:300},{x:2500,y:470}],[{x:2500,y:470},{x:2200,y:470},{x:1800,y:500},{x:1536,y:724}]],[[{x:1536,y:724},{x:1600,y:400},{x:2500,y:400},{x:2600,y:200}],[{x:2600,y:200},{x:2300,y:400},{x:1e3,y:600},{x:770,y:600}],[{x:770,y:600},{x:0,y:400},{x:250,y:0},{x:350,y:0}],[{x:350,y:0},{x:700,y:400},{x:1200,y:300},{x:1536,y:724}]],[[{x:1536,y:-724},{x:1e3,y:-700},{x:700,y:-600},{x:200,y:-100}],[{x:200,y:-100},{x:1e3,y:-700},{x:1500,y:-600},{x:2300,y:-400}],[{x:2300,y:-400},{x:2500,y:0},{x:2700,y:-300},{x:2800,y:40}],[{x:2800,y:40},{x:2200,y:-600},{x:1600,y:-720},{x:1536,y:-724}]],[[{x:1536,y:-724},{x:1e3,y:-300},{x:700,y:-300},{x:240,y:-100}],[{x:240,y:-100},{x:400,y:600},{x:900,y:500},{x:1e3,y:500}],[{x:1e3,y:500},{x:1700,y:400},{x:2e3,y:400},{x:2700,y:200}],[{x:2700,y:200},{x:2800,y:-400},{x:2700,y:-400},{x:2200,y:-600}],[{x:2200,y:-600},{x:2e3,y:-300},{x:1700,y:-300},{x:1536,y:-724}]]];function x(t,e){var n=Object(s.a)(t,4),r=n[0],o=n[1],i=n[2],a=n[3],h=3*(o.x-r.x),u=3*(i.x-o.x)-h,c=a.x-r.x-h-u,l=3*(o.y-r.y),y=3*(i.y-o.y)-l,d=a.y-r.y-l-y,x=e.t;e.t+=e.speed;var f=c*(x*x*x)+u*(x*x)+h*x+r.x,v=d*(x*x*x)+y*(x*x)+l*x+r.y;return e.x=f,e.y=v,e}var f=function(t){var e,n;return 0<t&&t<=15?(e=50,n=80):15<t&&t<=30?(e=80,n=110):30<t&&t<=45?(e=100,n=140):45<t&&t<=60?(e=100,n=160):60<t&&t<=75?(e=130,n=180):75<t&&t<=90?(e=130,n=200):90<t&&t<=105?(e=130,n=220):105<t&&t<=120?(e=150,n=250):120<t&&t<=135?(e=180,n=230):135<t&&(e=230,n=300),{minMobSize:e,maxMobSize:n}};function v(){v=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(E){s=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=u(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(E){return{type:"throw",arg:E}}}t.wrap=h;var c={};function l(){}function y(){}function d(){}var x={};s(x,o,function(){return this});var f=Object.getPrototypeOf,p=f&&f(f(z([])));p&&p!==e&&n.call(p,o)&&(x=p);var g=d.prototype=l.prototype=Object.create(x);function w(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function m(t,e){var r;this._invoke=function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var h=u(t[o],t,i);if("throw"!==h.type){var c=h.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){c.value=t,a(c)},function(t){return r("throw",t,a,s)})}s(h.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function z(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return y.prototype=d,s(g,"constructor",d),s(d,"constructor",y),y.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(m.prototype),s(m.prototype,i,function(){return this}),t.AsyncIterator=m,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new m(h(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},w(g),s(g,a,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=z,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),h=n.call(i,"finallyLoc");if(s&&h){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:z(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function p(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w={isObstacle:!1,velX:0,velY:0,speed:7,friction:.98,keys:{}},m=200,b={width:window.innerWidth,height:window.innerHeight};function k(t){t.preventDefault(),"keydown"===t.type&&(w.keys[t.key]=!0),"keyup"===t.type&&(w.keys[t.key]=!1)}function P(){var t=new l.a.PointText([(window.screen.availWidth-window.innerWidth)/2+20,(window.screen.availHeight-window.innerHeight)/2+80]);return t.fontSize=80,t.fillColor="white",t.fontFamily="'Dangrek', cursive",t}function C(t,e,n,r){var o=m-Math.round(e/1e3);return t.content=o>0?(m-Math.round(e/1e3)).toString():"0",o<60&&o>=30?t.fillColor="orange":o<30&&(t.fillColor="red"),t.bounds.topLeft.x+=n,t.bounds.topLeft.y+=r,t.bringToFront(),t}function z(){var t=window.innerWidth-b.width,e=window.innerHeight-b.height;return b.width=window.innerWidth,b.height=window.innerHeight,{resizedHeight:e,resizedWidth:t}}function L(t){var e=new l.a.Path.Rectangle([t.bounds.topLeft.x-20,t.bounds.topLeft.y-10],[window.screen.availWidth,window.screen.availHeight+40]);e.fillColor="black",e.opacity=.4;var n=new l.a.PointText;return n.fontSize=150,n.content="G a m e  O v e r",n.fontWeight="bold",n.strokeWidth=4,n.strokeColor="red",n.fillColor="white",n.fontFamily="'Dangrek', cursive",n.bounds.center.x=t.bounds.topLeft.x-20+window.screen.availWidth/2,n.bounds.center.y=t.bounds.topLeft.y-10+(window.screen.availHeight+40)/2,{loseTransparentBackground:e,gameOverPhrase:n}}function E(t,e,n){if("0"===e.content){var r=L(e);return{gameOverState:!t,loseTransparentBackground:r.loseTransparentBackground,gameOverPhrase:r.gameOverPhrase}}if(n.getSize()<50){var o=L(e);return{gameOverState:!t,loseTransparentBackground:o.loseTransparentBackground,gameOverPhrase:o.gameOverPhrase}}if(t){var i=L(e);return{gameOverState:t,loseTransparentBackground:i.loseTransparentBackground,gameOverPhrase:i.gameOverPhrase}}return{gameOverState:t,loseTransparentBackground:void 0,gameOverPhrase:void 0}}function S(t,e,n){if(n.getSize()>=300&&"0"!==e.content){var r=function(t){var e=new l.a.Path.Rectangle([t.bounds.topLeft.x-20,t.bounds.topLeft.y-10],[window.screen.availWidth,window.screen.availHeight+40]);e.fillColor="black",e.opacity=.4;var n=new l.a.PointText;return n.fontSize=150,n.content="G a m e  W i n !",n.fontWeight="bold",n.strokeWidth=4,n.strokeColor="yellow",n.fillColor="green",n.fontFamily="'Dangrek', cursive",n.bounds.center.x=t.bounds.topLeft.x-20+window.screen.availWidth/2,n.bounds.center.y=t.bounds.topLeft.y-10+(window.screen.availHeight+40)/2,{winTransparentBackground:e,gameWinPhrase:n}}(e);return{gameWinState:!t,winTransparentBackground:r.winTransparentBackground,gameWinPhrase:r.gameWinPhrase}}return{gameWinState:t,winTransparentBackground:void 0,gameWinPhrase:void 0}}function T(){return(T=Object(u.a)(v().mark(function t(e,n,r,o,i,a,s,h){var c,g,m,b,k,L,T,O,W,_,F,j,R,A,B,G,Y,H,X;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:X=function(){return(X=Object(u.a)(v().mark(function t(n,o){var i,u,k,P,L,R,B,G,X,D,I,M,N,K,q,U,J,$,Q,V,Z,tt,et;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=f(n/1e3),u=i.minMobSize,k=i.maxMobSize,b+500<n&&o.length<60&&(b=n,console.log("created",o.length),P=Math.floor(12*Math.random()),L=Math.floor(Math.random()*(k-u))+u,(R=new y({x:d[P][0][0].x,y:d[P][0][0].y},!0,L)).selectedPath=P,o.push(R)),50===o.length&&(o=o.filter(function(t,e){return e<15?(t.group.remove(),void t.removeSizeTag()):t})),o=o.map(function(t){var e={x:t.group.bounds.centerX,y:t.group.bounds.centerY,speed:.003,t:t.t},n=e.x,r=e.y,o=x(d[t.selectedPath][t.currentPoint],e);t.t=o.t,t.group.bounds.centerX=o.x,t.group.bounds.centerY=o.y;var i,a,s,h,u=(i=n,a=r,s=o.x,h=o.y,180*Math.atan2(h-a,s-i)/Math.PI);return u<=90&&u>=0||u>=-90&&u<=0?t.setReverse(!0):((u>90&&u)<=180||u<-90&&u>=-180)&&t.setReverse(!1),t.t>1&&(t.t=0,t.currentPoint=d[t.selectedPath].length-1!==t.currentPoint?t.currentPoint+1:0),t}),(w.keys.ArrowUp||w.keys.w)&&w.velY>-w.speed&&w.velY--,(w.keys.ArrowDown||w.keys.s)&&w.velY<w.speed&&w.velY++,(w.keys.ArrowRight||w.keys.d)&&(r.setReverse(!0),w.velX<w.speed&&w.velX++),(w.keys.ArrowLeft||w.keys.a)&&(r.setReverse(!1),w.velX>-w.speed&&w.velX--),B=r.getPosition(),w.velY*=w.friction,B.y+=w.velY,w.velX*=w.friction,B.x+=w.velX,G=!1,X=!1,a=a.map(function(t){var e,n=p(r.group.getItems());try{for(n.s();!(e=n.n()).done;){var o=e.value,i=t.group.getItem().getIntersections(o)[0];i&&(i.point.x-B.x>0&&(B.x=B.x-2,w.velX-=2,G=!0),i.point.x-B.x<0&&(B.x=B.x+2,w.velX+=2,G=!0),i.point.y-B.y>0&&(B.y=B.y-2,w.velY-=2,X=!0),i.point.y-B.y<0&&(B.y=B.y+2,w.velY+=2,X=!0))}}catch(a){n.e(a)}finally{n.f()}return t}),G&&(w.velX=0),X&&(w.velY=0),"exercise"===e&&(T.bounds.x=1600-l.a.view.matrix.tx,T.bounds.y=840-l.a.view.matrix.ty,O.bounds.x=T.bounds.x,O.bounds.y=T.bounds.y+35,W.bounds.x=T.bounds.x+T.bounds.width/3+10,W.bounds.y=T.bounds.y+35,_.bounds.x=T.bounds.x+T.bounds.width*(2/3),_.bounds.y=T.bounds.y+35,F.bounds.x=T.bounds.x,F.bounds.y=T.bounds.y,j.bounds.x=T.bounds.x+T.bounds.width-30,j.bounds.y=T.bounds.y),o=o.filter(function(t){return r.group.intersects(t.group)?t.size<=r.size?(console.log("You can eat!",r.size,t.size),r.size<=70?r.setSize(r.size+.05*t.size):70<r.size&&r.size<=130?r.setSize(r.size+.04*t.size):130<r.size&&r.size<=180?r.setSize(r.size+.03*t.size):180<r.size&&r.size<=250?r.setSize(r.size+.005*t.size):250<r.size&&r.setSize(r.size+.002*t.size),t.group.remove(),void t.removeSizeTag()):(t.size+=.05*r.size,r.group.remove(),r.removeSizeTag(),c=!0,t):t}),h=h.map(function(t){t.group.bounds.contains(r.group.bounds)&&(m=n+.001);var e,i=p(o);try{for(i.s();!(e=i.n()).done;){var a=e.value;t.group.bounds.contains(a.group.bounds)&&(a.hideTime=n+.001)}}catch(s){i.e(s)}finally{i.f()}return t}),r.group.visible=m<n,o=o.map(function(t){return t.hideTime<n?(t.group.visible=!0,t.sizeTag.visible=!0):(t.group.visible=!1,t.sizeTag.visible=!1),t}),s.map(function(t){(t.group.contains(r.group.bounds)||t.group.intersects(r.group.bounds))&&(r.setSize(r.size-1),w.velX=w.velX<w.speed?1.1*-w.velX:.9*-w.velX,w.velY=w.velY<w.speed?1.1*-w.velY:.9*-w.velY)}),"exercise"===e&&(w.keys.ArrowDown=!1,w.keys.ArrowUp=!1,w.keys.ArrowLeft=!1,w.keys.ArrowRight=!1),r.moveSizeTag(),o=o.map(function(t){return t.moveSizeTag(),t}),v=r.group.bounds.center.x,nt=r.group.bounds.center.y,rt=r.rx,ot=r.ry,I=(D={tx:v-rt,ty:nt-ot}).tx,M=D.ty,r.rx=r.group.bounds.center.x,r.ry=r.group.bounds.center.y,l.a.view.translate([-I,-M]),A=C(A,n,I,M),N=z(),K=N.resizedWidth,q=N.resizedHeight,A.bounds.topLeft.x+=-K/2,A.bounds.topLeft.y+=-q/2,U=E(c,A,r),J=U.gameOverState,$=U.loseTransparentBackground,Q=U.gameOverPhrase,c=J,V=S(g,A,r),Z=V.gameWinState,tt=V.winTransparentBackground,et=V.gameWinPhrase,g=Z,console.log($,Q),c?(window.cancelAnimationFrame(function(t){H(t,o)}),window.requestAnimationFrame(function(){return Y(I,M,$,Q)})):g?(window.cancelAnimationFrame(function(t){H(t,o)}),window.requestAnimationFrame(function(){return Y(I,M,tt,et)})):window.requestAnimationFrame(function(t){H(t,o)});case 41:case"end":return t.stop()}var v,nt,rt,ot},t)}))).apply(this,arguments)},H=function(t,e){return X.apply(this,arguments)},Y=function(t,e,n,r){var o=z(),i=o.resizedWidth,a=o.resizedHeight;A.bounds.topLeft.x+=-i/2,A.bounds.topLeft.y+=-a/2,n.bounds.topLeft.x=A.bounds.topLeft.x-20,n.bounds.topLeft.y=A.bounds.topLeft.y-10,r.bounds.center.x=A.bounds.topLeft.x-20+window.innerWidth/2,r.bounds.center.y=A.bounds.topLeft.y-10+(window.innerHeight+40)/2,window.requestAnimationFrame(function(){return Y(t,e,n,r)})},G=function(){var t=l.a.Path.Circle([T.bounds.centerX,T.bounds.centerY],3);t.selected=!0;var e=l.a.Path.Circle([T.bounds.centerX,T.bounds.centerY],3);return e.selected=!0,{leftKnee:t,rightKnee:e}},B=function(){var t=new l.a.Path.Rectangle(l.a.view.bounds.width-k.width,l.a.view.bounds.height-k.height,k.width,k.height);t.fillColor="white";var e=[120,80],n=new l.a.Path.Rectangle([t.bounds.x,t.bounds.y+35],e);n.fillColor="red";var r=new l.a.Path.Rectangle([t.bounds.x+t.bounds.width/3+10,t.bounds.y+35],[e[0]-20,e[1]]);r.fillColor="green";var o=new l.a.Path.Rectangle([t.bounds.x+t.bounds.width*(2/3),t.bounds.y+35],e);o.fillColor="blue";var i=new l.a.Path.Rectangle([t.bounds.x,t.bounds.y],[30,240]);i.fillColor="yellow";var a=new l.a.Path.Rectangle([t.bounds.x+t.bounds.width-30,t.bounds.y],[30,240]);return a.fillColor="pink",{motionFrame:t,down:n,straight:r,up:o,leftReverse:i,rightReverse:a}},c=!1,g=!1,m=0,b=-10001,document.createElement("canvas"),k={width:320,height:240},!1,0,"",new l.a.PointText,{left:!1,right:!1},0,!1,L="exercise"===e?B():{motionFrame:null,down:null,straight:null,up:null,leftReverse:null,rightReverse:null},T=L.motionFrame,O=L.down,W=L.straight,_=L.up,F=L.leftReverse,j=L.rightReverse,R="exercise"===e?G():{leftKnee:null,rightKnee:null},R.leftKnee,R.rightKnee,A=P(),window.requestAnimationFrame(function(t){H(t,i)});case 22:case"end":return t.stop()}},t)}))).apply(this,arguments)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this.head={x:t.x-100,y:t.y},this.group=new l.a.Group,this.isReverse=e,this.id=Object(h.a)(),this.ratio={width:1,height:.378306},this.size=n,this.rx=t.x,this.ry=t.y,this.constructor=function(){this.group=new l.a.Group;var e=this._makeBody(),n=this._makeTail(),r=this._makeFin(),o=this._makeEyeAndPupil(),i=o.startyEye,a=o.startyPupil,s=this._makeMouth();this.sizeTag=this._makeSizeTag(),this.group.addChild(e),this.group.addChild(n),this.group.addChild(r),this.group.addChild(i),this.group.addChild(a),this.group.addChild(s),this._makeBodyFin(),this._makeTailFin(),this.group.bounds.width=this.ratio.width*this.size,this.group.bounds.height=this.ratio.height*this.size,this.group.position.x=t.x,this.group.position.y=t.y,document.body.addEventListener("keydown",function(t){return k(t)}),document.body.addEventListener("keyup",function(t){return k(t)})},this.getPosition=function(){return this.group.position},this.setPosition=function(t){this.group.position.x=t.x,this.group.position.y=t.y},this.setSize=function(t){this.group.bounds.width=this.ratio.width*t,this.group.bounds.height=this.ratio.height*t,this.size=t},this.getSize=function(){return this.size},this.setReverse=function(t){t&&!this.isReverse||!t&&this.isReverse?this.group.scale(-1,1):this.group.scale(1,1),this.isReverse=t},this.getReverse=function(){return this.isReverse},this._makeBody=function(){var t=new l.a.Path([this.head.x,this.head.y],[this.head.x+160,this.head.y+10],[this.head.x+160,this.head.y-10],[this.head.x,this.head.y]);return t.curves[0].handle1.y=45,t.curves[0].handle2.y=15,t.curves[2].handle2.y=-45,t.curves[2].handle1.y=-15,t.fillColor="#31E1F7",t.strokeColor="black",t.strokeWidth=3,t.closed=!0,t},this._makeTail=function(){var t=new l.a.Path([this.head.x+160,this.head.y-10],[this.head.x+200,this.head.y-30],[this.head.x+200,this.head.y+30],[this.head.x+160,this.head.y+10]);return t.fillColor="#D800A6",t.strokeColor="black",t.strokeWidth=3,t.closed=!0,t.curves[0].handle1.y=-5,t.curves[2].handle1.y=5,t},this._makeFin=function(){var t=new l.a.Path([this.head.x+45,this.head.y-26],[this.head.x+70,this.head.y-45],[this.head.x+140,this.head.y-20],[this.head.x+45,this.head.y-26]);return t.fillColor="#D800A6",t.strokeColor="black",t.strokeWidth=3,t.curves[0].handle2.y=10,t.curves[2].handle1.y=-2,t.curves[2].handle2.y=-3,t},this._makeEyeAndPupil=function(){var t,e;return t=new l.a.Path.Circle([this.head.x+20,this.head.y-6],8),e=new l.a.Path([t.position.x-3,t.position.y+2],[t.position.x+3,t.position.y+2]),t.fillColor="white",t.strokeColor="black",t.strokeWidth=3,e.strokeColor="black",e.strokeWidth=2,e.curves[0].handle1.y=-5,e.curves[0].handle2.y=-5,{startyEye:t,startyPupil:e}},this._makeMouth=function(){var t;return(t=new l.a.Path([this.head.x+3.5,this.head.y+10],[this.head.x+20,this.head.y+10],[this.head.x+12,this.head.y+17],[this.head.x+3.5,this.head.y+10])).curves[2].handle1.y=2,t.curves[2].handle2.y=2,t.strokeColor="black",t.strokeWidth=2,t.fillColor="#FF7777",t},this._makeBodyFin=function(){for(var t=this.head.x+55,e=this.head.x+150,n=t;n<e;n+=20){var r=new l.a.Path([n,this.head.y-15],[n,this.head.y-7],[n,this.head.y],[n,this.head.y+8],[n,this.head.y+15]);r.curves.forEach(function(t){t.handle1.x=5,t.handle2.x=5}),r.strokeColor="black",r.strokeWidth=2,this.group.addChild(r)}},this._makeTailFin=function(){for(var t=this.head.x+170,e=this.head.x+190,n=-10;n<=10;n+=5){var r=new l.a.Path([t,this.head.y+n],[e,this.head.y+n]);r.strokeWidth=2,r.strokeColor="black",r.rotate(2*n,r.bounds.bottomLeft),this.group.addChild(r)}},this._makeSizeTag=function(){var t=new l.a.PointText;return t.fillColor="black",t.fontSize=18,t.fontFamily="'Dangrek', cursive",t.content=n.toString(),t},this.moveSizeTag=function(){this.sizeTag.bounds.center.x=this.group.bounds.topCenter.x,this.sizeTag.bounds.center.y=this.group.bounds.topCenter.y-15,this.sizeTag.content=this.size.toFixed(2).toString()},this.removeSizeTag=function(){this.sizeTag.remove()},this.constructor()}n(19);function W(t,e,n,r,o){this.group=new l.a.Group,this.stonePath=new l.a.Path([0,o[1]/2],[0,0],[20,40],[70,200],[100,250],[130,400],[200,500],[300,520],[500,580],[600,580],[700,650],[800,650],[900,660],[1200,800],[o[0]/2,o[1]/2]),this.constructor=function(){this.stonePath.fillColor="#B2B1B9",this.stonePath.strokeColor="#595260",this.stonePath.strokeWidth=10,this.stonePath.closed=!0,this.stonePath.smooth(),this.controlOverscreenCurves(),this.stonePath.rotate(n,0),this.stonePath.position.x=t,this.stonePath.position.y=e,r&&this.stonePath.scale(-1,1),this.group.addChild(this.stonePath)},this.controlOverscreenCurves=function(){this.stonePath.curves[0].handle1.y=0,this.stonePath.curves[0].handle2.y=0,this.stonePath.curves[0].handle1.x=0,this.stonePath.curves[0].handle2.x=0,this.stonePath.curves[1].handle1.y=10,this.stonePath.curves[1].handle2.y=5,this.stonePath.curves[1].handle1.x=5,this.stonePath.curves[1].handle2.x=0,this.stonePath.curves[2].handle1.x=70,this.stonePath.curves[this.stonePath.curves.length-2].handle1.x=0,this.stonePath.curves[this.stonePath.curves.length-2].handle1.y=0,this.stonePath.curves[this.stonePath.curves.length-2].handle2.x=0,this.stonePath.curves[this.stonePath.curves.length-2].handle2.y=0,this.stonePath.curves[this.stonePath.curves.length-1].handle1.x=0,this.stonePath.curves[this.stonePath.curves.length-1].handle1.y=0,this.stonePath.curves[this.stonePath.curves.length-1].handle2.x=0,this.stonePath.curves[this.stonePath.curves.length-1].handle2.y=0},this.constructor()}var _=function(t,e,n){this.group=new l.a.Group,this.stonePath=new l.a.Path([t-387.975,e+24.385],[t-377.975,e-22.651],[t-37.975,e-125.651],[t+362.025,e-35.651],[t+342.025,e+74.349],[t-32.975,e+124.349],[t-387.975,e+24.385]),this.constructor=function(){this.stonePath.strokeColor="#595260",this.stonePath.strokeWidth=10,this.stonePath.strokeCap="round",this.stonePath.smooth(),this.stonePath.fillColor="#B2B1B9",this.stonePath.scale(n),this.group.addChild(this.stonePath)},this.constructor()};var F=function(t,e,n,r){this.group=new l.a.Group,this.constructor=function(){this.createBody(),this.createTentacle(),this.createBelly(),this.group.bounds.bottomCenter.x=t,this.group.bounds.bottomCenter.y=e,this.group.rotate(r,this.group.bounds.bottomCenter),this.group.scale(n)},this.createBody=function(){var t=new l.a.Path.Circle([40,70],30);t.strokeColor="black",t.strokeWidth=2,t.removeSegment(3),t.fillColor="#E46028",t.curves[2].handle1.y=30,t.curves[2].handle2.y=30,this.group.addChild(t)},this.createTentacle=function(){var t=new l.a.Path([65,80],[67,20],[60,10],[50,30],[50,80]);t.strokeColor="black",t.strokeWidth=2,t.smooth(),t.fillColor="#FF8642",t.position.x=40,t.position.y=10;for(var e=0;e<10;e++){var n=t.clone();n.bounds.height*=.7,3===e?n.rotate(36*e,[t.bounds.bottomCenter.x-5,t.bounds.bottomCenter.y-10]):4===e?n.rotate(36*e,[t.bounds.bottomCenter.x-2,t.bounds.bottomCenter.y-15]):5===e?n.rotate(36*e,[t.bounds.bottomCenter.x,t.bounds.bottomCenter.y-15]):6===e?n.rotate(36*e,[t.bounds.bottomCenter.x+2,t.bounds.bottomCenter.y-15]):7===e?n.rotate(36*e,[t.bounds.bottomCenter.x+8,t.bounds.bottomCenter.y-17]):n.rotate(36*e,t.bounds.bottomCenter),this.group.addChild(n)}t.remove()},this.createBelly=function(){var t=new l.a.Path.Circle([40,40],20);t.fillColor="#E36229",t.strokeColor="black",t.strokeWidth=2,this.group.addChild(t)},this.constructor()};var j=function(t,e,n,r){this.group=new l.a.Group,this.path=new l.a.Path([50,100],[50,60],[50,20],[60,20],[60,60],[60,100]),this.constructor=function(){this.path.strokeColor="black",this.path.strokeWidth=2,this.path.fillColor="#ACE094",this.path.curves[0].handle1.x=10,this.path.curves[0].handle2.x=10,this.path.curves[1].handle1.x=-10,this.path.curves[1].handle2.x=-10,this.path.curves[2].handle1.y=-2,this.path.curves[2].handle2.y=-2,this.path.curves[3].handle1.x=-10,this.path.curves[3].handle2.x=-10,this.path.curves[4].handle1.x=10,this.path.curves[4].handle2.x=10;for(var o=1;o<=10;o++){var i=this.path.clone();i.position.x+=14*o,this.group.addChild(i)}this.group.addChild(this.path),this.group.bounds.bottomCenter.x=t,this.group.bounds.bottomCenter.y=e,this.group.bounds.height*=n,this.group.rotate(r,this.group.bounds.bottomCenter)},this.constructor()};var R=function(){var t=[3072,1648],e=[],n=new l.a.Path.Rectangle([0,-t[1]/2],[t[0],t[1]]);n.strokeColor="black",n.strokeWidth="3",e.push(new _(t[0]/2,0,2.5,l.a)),e.push(new W(t[0]/4,t[1]/4,0,!1,t,l.a)),e.push(new W(.75*t[0],t[1]/4,0,!0,t,l.a)),e.push(new W(t[0]/4,-t[1]/4,180,!0,t,l.a)),e.push(new W(.75*t[0],-t[1]/4,180,!1,t,l.a));var r=[];r.push(),r.push(new F(500,610,1.5,0)),r.push(new F(300,550,1,0)),r.push(new F(990,760,1,40)),r.push(new F(990,230,1,180)),r.push(new F(550,20,.8,200)),r.push(new F(2200,190,.8,160)),r.push(new F(3030,190,1.2,280)),r.push(new F(2550,600,2,10)),r.push(new F(2350,-150,2,30)),r.push(new F(2350,-640,2,210)),r.push(new F(900,-700,1.1,140)),r.push(new F(900,-200,2,-20));var o=[];return o.push(),o.push(new j(700,100,1.2,210)),o.push(new j(800,650,1.2,-20)),o.push(new j(90,340,1.2,70)),o.push(new j(1600,250,1.2,175)),o.push(new j(1750,250,1.2,175)),o.push(new j(1540,780,1.5,0)),o.push(new j(1540,-860,1.5,180)),o.push(new j(2700,-600,1.3,200)),o.push(new j(2800,510,1.3,-10)),o.push(new j(300,-560,1.2,170)),o.push(new j(660,-660,1.2,140)),{mapSize:t,obstacles:e,attackers:r,hiders:o}};function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return z()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=m(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=u(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=h;var c={};function l(){}function y(){}function d(){}var x={};s(x,o,function(){return this});var f=Object.getPrototypeOf,v=f&&f(f(C([])));v&&v!==e&&n.call(v,o)&&(x=v);var p=d.prototype=l.prototype=Object.create(x);function g(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;this._invoke=function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var h=u(t[o],t,i);if("throw"!==h.type){var c=h.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){c.value=t,a(c)},function(t){return r("throw",t,a,s)})}s(h.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function m(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,m(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:z}}function z(){return{value:void 0,done:!0}}return y.prototype=d,s(p,"constructor",d),s(d,"constructor",y),y.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},g(w.prototype),s(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(h(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(p),s(p,a,"Generator"),s(p,o,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),h=n.call(i,"finallyLoc");if(s&&h){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function B(){return(B=Object(u.a)(A().mark(function t(e,n,r){var o,i,a,s,h,c;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(){return(i=Object(u.a)(A().mark(function t(){var e,n,r;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.enumerateDevices();case 2:return e=t.sent,n=e.filter(function(t){return"videoinput"===t.kind}),r=n.map(function(t){return'<option value="'.concat(t.deviceId,'">').concat(t.label,"</option>")}),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)},o=function(){return i.apply(this,arguments)},0!==r){t.next=7;break}return t.next=5,o();case 5:a=t.sent,n.current.innerHTML=a.join("");case 7:return s=n.current.options[r].value,h={video:{width:{max:320},height:{max:240}},deviceId:{exact:s}},t.next=11,navigator.mediaDevices.getUserMedia(h);case 11:c=t.sent,e.current.srcObject=c;case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}var G=function(t,e,n){return B.apply(this,arguments)};var Y=function(){var t=Object(r.useRef)(null),e=Object(r.useRef)(null),n=window.location.href.split("/").at(-1),i=Object(r.useRef)(null),a={width:0,height:0};function s(){l.a.setup(i.current);var e=R(),r=e.mapSize,o=e.obstacles,s=e.attackers,h=e.hiders,u=new O({x:window.screen.availWidth/2,y:window.screen.availHeight/2},!1,80);!function(t,e,n,r,o,i,a,s){T.apply(this,arguments)}(n,t,u,r,[],o,s,h),l.a.view.translate([-(window.screen.availWidth-window.innerWidth)/2,-(window.screen.availHeight-window.innerHeight)/2]),a.width=window.innerWidth,a.height=window.innerHeight}return Object(r.useEffect)(function(){"exercise"===n&&G(t,e,0),s(),window.addEventListener("resize",function(){return function(){var t=a.width-window.innerWidth,e=a.height-window.innerHeight;l.a.view.translate([-t/2,-e/2]),a.width=window.innerWidth,a.height=window.innerHeight}()})}),o.a.createElement("div",{style:{width:window.screen.availWidth+"px",height:window.screen.availHeight+40+"px"},className:"game"},o.a.createElement("canvas",{id:"game-canvas",ref:i}),o.a.createElement("video",{ref:t,autoPlay:!0}),o.a.createElement("select",{onChange:function(n){var r=n.target.selectedIndex;G(t,e,r)},ref:e}))};var H=function(){return o.a.createElement(Y,null)};a.a.createRoot(document.getElementById("root")).render(o.a.createElement(H,null))},7:function(t,e,n){t.exports=n(20)}},[[7,1,2]]]);
//# sourceMappingURL=main.4cb24934.chunk.js.map